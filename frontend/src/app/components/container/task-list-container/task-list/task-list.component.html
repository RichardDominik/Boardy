<div class="right-button-container">
  <button class="add-button" (click)="addTask()"> + Add task</button>
</div>
<div id="task-list-container">
  <h2>All tasks</h2>

<div class="task-filter-button" (click)="showHideFilter()">Filter</div>
<div [ngClass]="{'task-filter': true, 'hidden': showFilter === false}">
  <div class="task-filter-option">
    <label for="task-filter-prio">Priority</label><br>
    <select id="task-filter-prio" (change)="onFilter($event.target)">
      <option value=""></option>
      <option value="LOW">LOW</option>
      <option value="MEDIUM">MEDIUM</option>
      <option value="HIGH">HIGH</option>
    </select>
  </div>
    <div class="task-filter-option">
      <label for="task-filter-assignee">Assignee</label><br>
        <select id="task-filter-assignee" (change)="onFilter($event.target)">
          <option value=""></option>
        </select>
    </div>
    <div class="task-filter-option">
      <label for="task-filter-status">Status</label><br>
      <select id="task-filter-status" (change)="onFilter($event.target)">
        <option value=""></option>
        <option value="FREE">FREE</option>
        <option value="IN PROGRESS">IN PROGRESS</option>
        <option value="TO TEST">TO TEST</option>
        <option value="DONE">DONE</option>
      </select>
    </div>
    
  </div>
  
  <table [ngClass]="{'task-table': true, 'task-table-filter': showFilter === true}">
    <thead>
   <tr>
      <th>Task detail</th>
      <th>Status</th>
      <th>Assignee</th>
      <th>Deadline/Estimate</th>
      <th>Priority</th>
    </tr>
    </thead>
    <tr *ngFor="let task of filteredTasks" (click)="showTaskDetail(task?.id)" class="task-table-item">
      <td><div class="task-table-title">{{task?.title}}</div></td>
      <td><div class="task-table-status {{task?.status}}">{{status[task?.status]}}</div></td>
      <td>{{task?.assignee?.name ? task?.assignee?.name : "&nbsp;"}}</td>
      <ng-template #empty>
        <td></td>
      </ng-template>
      <td>{{task.estimate}}</td>
      <td><div class="task-table-status {{task?.priority}}">{{priority[task?.priority]}}</div></td>
    </tr>
  </table>
  <div class="pagination">
    <div class="pagination-links">
      <a *ngIf="pagination.prev != null" (click)="prevPage()">&laquo;</a>
      <a *ngIf="pagination.next != null" (click)="nextPage()">&raquo;</a>
    </div>  
  </div>
</div>